<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>20.1. Web APIs &#8212; C# Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="20.2. What is REST?" href="rest-abstract.html" />
    <link rel="prev" title="20. Introduction to Web APIs &amp; REST" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">20. </span>Introduction to Web APIs &amp; REST</a></li>
    <li class="active"><span class="section-number">20.1. </span>Web APIs</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="web-apis">
<span id="index-0"></span><h1><span class="section-number">20.1. </span>Web APIs<a class="headerlink" href="#web-apis" title="Permalink to this headline">¶</a></h1>
<p>An <strong>API</strong>, or <strong>application programming interface</strong>, is a set of rules that allow one application to communicate with another application. <strong>Web APIs</strong>
are how applications communicate with other applications over a network. Throughout the remainder of this chapter, we will explore web APIs and a pattern
for organizing them called REST. REST is an application design pattern, not unlike MVC. <strong>REST</strong>, however, relies on an abstract concept called
<em>application state</em> that we’ll cover in more detail on the following pages.
Here, we dive into what differentiates all web APIs from MVC applications.</p>
<div class="section" id="mvc-without-the-v">
<h2><span class="section-number">20.1.1. </span>MVC Without the V<a class="headerlink" href="#mvc-without-the-v" title="Permalink to this headline">¶</a></h2>
<p>Web APIs are actually similar to MVC web applications but for one major distinction: Web APIs are not concerned with the presentation of data. A web API
encompasses the model and controller aspects of MVC, but is not responsible for the view layer. In a web API, the view, or presentation of data, is decoupled
from the model and controller that manage and transfer data. This separation leads to the development of two different applications, a client (front-end)
and a web API (back-end).</p>
<p>The separation between client and web API provides the following benefits:</p>
<ul class="simple">
<li><p>Client applications can be developed to operate on a range of platforms (web, mobile, CLI, GUI, etc).</p></li>
<li><p>Client and web API applications can be developed by different, specialized programming teams.</p></li>
<li><p>Client and web API applications can be hosted on separate infrastructure.</p></li>
</ul>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>Client applications involve User Interface (UI) and User Experience (UX) development.</p>
</div>
<div class="section" id="client-interacts-with-data">
<h3><span class="section-number">20.1.1.1. </span>Client Interacts With Data<a class="headerlink" href="#client-interacts-with-data" title="Permalink to this headline">¶</a></h3>
<p>Despite being separated from each other, the client application still relies on interactions with application data through the web API. A front-end client
must ultimately present data to an end-user. This means the client must request a representation of the data from the web API. After the client receives the
representation, it is parsed, styled and rendered to the user.</p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>A web API interacts with, or <em>is consumed by</em>, a client application. This process involves transferring data representations and instructions
like creating, reading, updating and deleting.</p>
</div>
</div>
</div>
<div class="section" id="responsibilities-of-a-web-api">
<h2><span class="section-number">20.1.2. </span>Responsibilities of a Web API<a class="headerlink" href="#responsibilities-of-a-web-api" title="Permalink to this headline">¶</a></h2>
<p>The chief responsibility of a web API is to exchange representations of data with a corresponding client application. APIs are also gatekeepers, maintaining
rules about how end-users may interact with application data.</p>
<div class="section" id="data-delivery">
<span id="index-1"></span><h3><span class="section-number">20.1.2.1. </span>Data Delivery<a class="headerlink" href="#data-delivery" title="Permalink to this headline">¶</a></h3>
<p>Think about how a view works in MVC.</p>
<ol class="arabic simple">
<li><p>Data is injected into a template file,</p></li>
<li><p>That template is rendered in HTML in the browser when a controller action method is invoked,</p></li>
<li><p>The data is sent back to the user</p></li>
</ol>
<p>We call this approach <strong>server-side rendering</strong>. A client application and web API work in a similar way. However, instead of injecting the data into a
template on the server, data is transferred over the network through AJAX requests made by the client.</p>
<p>When a client application receives data, it injects that data into its HTML using JavaScript. This all occurs from within a browser. This approach is
called <strong>client-side rendering</strong> because the web API only sends data, the HTML is assembled on the user’s end.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>Consider requesting the <code class="docutils literal notranslate"><span class="pre">/events</span></code> path of your MVC project. The response is an HTML presentation of the data. In other words, the
data is already included in the presentation.</p>
<p><strong>MVC</strong>: <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/events</span> <span class="pre">-&gt;</span> <span class="pre">HTML</span> <span class="pre">with</span> <span class="pre">data</span></code></p>
<p>In a web API analog, an <code class="docutils literal notranslate"><span class="pre">/events</span></code> path would return just the underlying data.</p>
<p><strong>Web API</strong>: <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/events</span> <span class="pre">-&gt;</span> <span class="pre">just</span> <span class="pre">data</span></code></p>
<p>It is then the client application’s responsibility to integrate the received data into its presentation.</p>
</div>
</div>
<div class="section" id="management-of-data">
<h3><span class="section-number">20.1.2.2. </span>Management of Data<a class="headerlink" href="#management-of-data" title="Permalink to this headline">¶</a></h3>
<p>A web API manages data by modeling objects that line up with the underlying business data. This is actually the same process we saw in MVC. Our models
are class files that drive the interactions in our codebase. Web APIs often take advantage of ORMs just like MVC applications do. If you have underlying
classes that map to a database, you can easily make data available for use within a web API codebase.</p>
</div>
<div class="section" id="transference-of-data">
<h3><span class="section-number">20.1.2.3. </span>Transference of Data<a class="headerlink" href="#transference-of-data" title="Permalink to this headline">¶</a></h3>
<p>Beyond managing data, a web API also handles transferring data. A client application will make a request for some data. Our web API must contain controller
files that can handle the requests. As a part of handling the request, the controller file must understand the request, access the requested data, package
the data in an accepted format, and send the package as a response to the client application.</p>
<p id="client-api-transfer">Here’s an overview of the steps to transfer data between a web API and client application:</p>
<ol class="arabic simple">
<li><p>A request for data comes from a client application to the API.</p></li>
<li><p>A controller file in the API catches the request.</p></li>
<li><p>The controller determines if the request is valid.</p></li>
<li><p>The controller transfers data from the database to an object, via the ORM.</p></li>
<li><p>The controller transforms the object into a package the client application can work with.</p></li>
<li><p>The controller responds to the client with the packaged data.</p></li>
</ol>
</div>
</div>
<div class="section" id="representation-of-data">
<span id="index-2"></span><h2><span class="section-number">20.1.3. </span>Representation of Data<a class="headerlink" href="#representation-of-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="presentation-vs-representation">
<h3><span class="section-number">20.1.3.1. </span>Presentation vs Representation<a class="headerlink" href="#presentation-vs-representation" title="Permalink to this headline">¶</a></h3>
<p>As mentioned above, the client application presents the data to the end-user. However, the client relies on consuming a representation of data from the
web API. <strong>Presentation</strong> is the rendered combination of data and visual styling intended for end-users. The client application needs to know what format the
data is in so that it can be transformed into a human readable presentation (HTML/CSS). A web API packages data into a format the client application
accepts. This format is called the <strong>representation</strong> of the data. The client application team and the web API team must agree to the underlying data format.
A best practice is to use a universal representation widely accepted by client applications.</p>
</div>
<div class="section" id="universal-representation">
<h3><span class="section-number">20.1.3.2. </span>Universal Representation<a class="headerlink" href="#universal-representation" title="Permalink to this headline">¶</a></h3>
<p>It is necessary to adopt a universal representation because web APIs and client applications may be written in two different programming languages. Your
web API may be written in C#/ASP.NET but the client application may be written using JavaScript and React. While there are many languages and frameworks
available in web development, they all support the creation and parsing of JSON. JSON is a standard in web development because it is simple to process in
any language, compatible with HTTP, and seamlessly represents the structure of data objects.</p>
<div class="section" id="json">
<h4><span class="section-number">20.1.3.2.1. </span>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h4>
<p>JSON is currently a universal representation of data accepted by client applications. This means our web API packages data
requested by a client application as JSON. The web API also transfers this JSON in its communication with a client application.</p>
<p>Let’s revisit the last two steps from our web API work flow <a class="reference internal" href="#client-api-transfer"><span class="std std-ref">above</span></a>:</p>
<ol class="arabic simple" start="5">
<li><p>The controller transforms the object into a JSON representation.</p></li>
<li><p>The controller responds to the client with the JSON representation.</p></li>
</ol>
<div class="admonition-tip admonition">
<p class="admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/XML/XML_introduction" target="_blank">XML<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> is another popular data format. It is now used less commonly than
JSON for web API-to-client communications.</p>
</div>
<p>In the next section, we will discuss exactly how a client application makes a request and how a web API responds.</p>
</div>
</div>
</div>
<div class="section" id="http-as-the-language-of-web-apis">
<span id="index-3"></span><h2><span class="section-number">20.1.4. </span>HTTP as The Language of Web APIs<a class="headerlink" href="#http-as-the-language-of-web-apis" title="Permalink to this headline">¶</a></h2>
<p>HTTP is the protocol used for communication between a web API and a client application. Web APIs communicate over a network. The most common protocol of
the internet is HTTP, so it comes as no surprise that HTTP is the language of web APIs. Similarly, our MVC applications use HTTP as the protocol for an
end-user to access the application. HTTP also facilitates the communication between a client application and a web API.</p>
<div class="admonition-tip admonition">
<p class="admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p>We will refer to web APIs as APIs going forward, since the web prefix is implied.</p>
</div>
<p>Here’s a refresher on <a class="reference external" href="https://education.launchcode.org/intro-to-professional-web-dev/chapters/http/index.html" target="_blank">the basics of HTTP<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>:</p>
<ul class="simple">
<li><p>Is a stateless request/response protocol.</p></li>
<li><p>Requests and responses may include HTTP bodies.</p></li>
<li><p>Responses always contain a three digit HTTP status code.</p></li>
<li><p>Requests and responses always include HTTP headers.</p></li>
</ul>
<p>We call HTTP a <em>stateless protocol</em>. State can be a complex concept that refers to a number of things. We’ll explore some aspects of it in more depth on the
next page. In the context of HTTP, think of <strong>state</strong> as information about application data that is transferred via HTTP bodies, HTTP status codes,
and HTTP headers.</p>
<div class="section" id="bodies">
<h3><span class="section-number">20.1.4.1. </span>Bodies<a class="headerlink" href="#bodies" title="Permalink to this headline">¶</a></h3>
<p>An HTTP body can contain a large number of different media types,
known as <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types" target="_blank">MIME types<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>. A MIME type is associated with the
HTTP header <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code>. This header instructs the recipient of the HTTP request/response on what MIME type the HTTP body contains. We’ve seen a
<code class="docutils literal notranslate"><span class="pre">Content-Type:</span> <span class="pre">text/html</span></code> HTTP header before. Here’s a simple example of it:</p>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My Web Page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
      content
   <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
      content
   <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p>This is the header for HTML documents and is used throughout the web. APIs send representations of data in the format of JSON requiring the header
<code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> to be <code class="docutils literal notranslate"><span class="pre">application/json</span></code>. This allows us to pass the state of the data as the HTTP body.</p>
<div class="highlight-json notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;An Astronaut&#39;s Guide to Life on Earth&quot;</span><span class="p">,</span>
   <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Chris Hadfield&quot;</span><span class="p">,</span>
   <span class="nt">&quot;ISBN&quot;</span><span class="p">:</span> <span class="mi">9780316253017</span><span class="p">,</span>
   <span class="nt">&quot;year_published&quot;</span><span class="p">:</span> <span class="mi">2013</span><span class="p">,</span>
   <span class="nt">&quot;subject&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Hadfield, Chris&quot;</span><span class="p">,</span> <span class="s2">&quot;Astronauts&quot;</span><span class="p">,</span> <span class="s2">&quot;Biography&quot;</span><span class="p">],</span>
   <span class="nt">&quot;available&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The HTTP body may include JSON that represents the data being passed between an API and client application. Remember, not all requests/responses include
HTTP bodies.</p>
</div>
<div class="section" id="status-codes">
<h3><span class="section-number">20.1.4.2. </span>Status Codes<a class="headerlink" href="#status-codes" title="Permalink to this headline">¶</a></h3>
<p>The next HTTP component that transfers state is the HTTP status code. The HTTP status code is included as a part of every HTTP response. The status code
is the API’s way of telling the client application how their initial request was handled.
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" target="_blank">HTTP response status codes<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> are a part of the HTTP spec and their usage goes beyond API
design. However, many of their codes have been adopted as a standard within API design.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Common HTTP status codes in API design</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 24%" />
<col style="width: 19%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Status Code Group</p></th>
<th class="head"><p>Commonly Used</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2XX</p></td>
<td><p>200, 201, 204</p></td>
<td><p>request was successful</p></td>
</tr>
<tr class="row-odd"><td><p>3XX</p></td>
<td><p>301, 302</p></td>
<td><p>request was redirected</p></td>
</tr>
<tr class="row-even"><td><p>4XX</p></td>
<td><p>400, 401, 403, 404, 405</p></td>
<td><p>client error</p></td>
</tr>
<tr class="row-odd"><td><p>5XX</p></td>
<td><p>500, 502, 504</p></td>
<td><p>server error</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="headers">
<h3><span class="section-number">20.1.4.3. </span>Headers<a class="headerlink" href="#headers" title="Permalink to this headline">¶</a></h3>
<p>The final HTTP component that transfers state are the HTTP headers. Any <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers" target="_blank">number of headers<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>
can be included in a request or response. We saw the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header above. This is the header that informs the API (request header) or client
application (response header) of the format of the data included in the body.</p>
<div class="admonition-tip admonition">
<p class="admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p>A client can specify which <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> they want to receive in the API response using the <code class="docutils literal notranslate"><span class="pre">Accept</span></code> request header.</p>
</div>
</div>
</div>
<div class="section" id="api-design">
<h2><span class="section-number">20.1.5. </span>API Design<a class="headerlink" href="#api-design" title="Permalink to this headline">¶</a></h2>
<p>The design of an API is a contract that defines how the client and API interact with data. The API is responsible for upholding the data management and
transfer behaviors of the contract. The client application is responsible for consuming (via AJAX requests) an API according to the contract.</p>
<p>As long as both sides of the interface (the client and API logic) uphold the contract, then front and back-end teams can operate independently. This
provides the following freedoms:</p>
<ul class="simple">
<li><p>Front-end developers can choose, or change, the internal styling, libraries, frameworks and design patterns.</p></li>
<li><p>Back-end developers can choose, or change, the internal server language, libraries, frameworks and design patterns.</p></li>
<li><p>Both sides can choose, or change, their external hosting infrastructure at any time without affecting the other.</p></li>
<li><p>Both sides can make and deploy changes to their code bases at any time, without needing to coordinate with, or wait for, the other.</p></li>
</ul>
<p>Only when a change must be made to either the client AJAX requests or API behavior do the two teams need to communicate and agree upon a new contract. Up next,
we discuss how following the REST pattern of API design offers consistency and simplicity in application development.</p>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">20.1.6. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>True or False: Web API programmers must be knowledgeable in HTML/CSS/Javascript to create a client application.</p>
<ol class="loweralpha simple">
<li><p>True</p></li>
<li><p>False</p></li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>Match the class of HTTP response codes to the approximate definition:</p>
<p><code class="docutils literal notranslate"><span class="pre">2XX</span></code>, <code class="docutils literal notranslate"><span class="pre">3XX</span></code>, <code class="docutils literal notranslate"><span class="pre">4XX</span></code>, <code class="docutils literal notranslate"><span class="pre">5XX</span></code></p>
<ol class="loweralpha simple">
<li><p>Request is valid, but server cannot receive and accept it.</p></li>
<li><p>Request received and accepted.</p></li>
<li><p>Due to the request containing an error, it cannot be received.</p></li>
<li><p>Another action needs to be done to fulfill request.</p></li>
</ol>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="index.html"><span aria-hidden="true">&larr;</span> <span class="section-number">20. </span>Introduction to Web APIs &amp; REST</a></li>
        
        
        <li class="next"><a href="rest-abstract.html"><span class="section-number">20.2. </span>What is REST? <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/web-apis/intro-web-apis.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>