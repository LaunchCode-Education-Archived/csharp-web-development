<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>12.1. MSBuild &#8212; C# Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="12.2. NuGet" href="nuget.html" />
    <link rel="prev" title="12. Tools in Visual Studio" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">12. </span>Tools in Visual Studio</a></li>
    <li class="active"><span class="section-number">12.1. </span>MSBuild</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="msbuild">
<h1><span class="section-number">12.1. </span>MSBuild<a class="headerlink" href="#msbuild" title="Permalink to this headline">¶</a></h1>
<p id="index-0">By now, you may have noticed a <code class="docutils literal notranslate"><span class="pre">.csproj</span></code> file in your C# project folders. This is a <em>C# Project</em>
file type. It contains instructions on how to build the project. Visual Studio includes another
Microsoft program called <strong>MSBuild</strong>.  MSBuild creates the code to build your application so that
it can be run.</p>
<p>An <strong>automated build tool</strong>, such as MSBuild, is responsible for tasks like:</p>
<ul class="simple">
<li><p>Compiling the source code</p></li>
<li><p>Managing dependencies</p></li>
<li><p>Testing protocol</p></li>
<li><p>Packaging the executable program for deployment</p></li>
</ul>
<p>MSBuild is included in the Visual Studio IDE and has so far been doing its work under the radar.
Other build tools are available for us to use in C# projects. However, like in the unit testing
chapter, we will stick to the tools provided to us with the Visual Studio IDE.</p>
<p>For more on MSBuild, check out the <a class="reference external" href="https://learn.microsoft.com/en-us/visualstudio/msbuild/msbuild?view=vs-2022" target="_blank">documentation<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<div class="section" id="the-project-file">
<span id="index-1"></span><h2><span class="section-number">12.1.1. </span>The Project File<a class="headerlink" href="#the-project-file" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">.csproj</span></code> file is dynamically generated by MSBuild when the application is built. The file is
written in <strong>XML (Extensible Markup Language)</strong>. XML is another member of the markup language
family, like HTML. It is most often used for transferring data.</p>
<p>The four principal elements of a project file are:</p>
<ol class="arabic simple">
<li><p><strong>Tasks</strong>: Units of executable code. Any build action that needs to take place will be done via tasks.
The other elements pass information into tasks.</p></li>
<li><p><strong>Targets</strong>: Group and order related tasks for execution.</p></li>
<li><p><strong>Properties</strong>: Key/value pairs used for build configuration information.</p></li>
<li><p><strong>Items</strong>: Used to input resources, such as files, into the build system.</p></li>
</ol>
<p>So far, in our simple projects, there is not much complexity in what MSBuild and the <code class="docutils literal notranslate"><span class="pre">.csproj</span></code>
file need to do. Our C# code is designed to be tested and executed within the IDE with very few
dependencies. When you are working as a C# developer on the job, things will start to get more
complicated. You will likely need at least three target environments for your application:</p>
<ol class="loweralpha simple">
<li><p>debugging in the IDE.</p></li>
<li><p>a development server for testing your deployed program before it is released to the user.</p></li>
<li><p>the final production environment.</p></li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">.csproj</span></code> file is where any project dependencies are stored and also organized.
These will have different responsibilities in those different environments.
So while we don’t do much with the project file yet, we will later on.</p>
<p>The four elements summarized above provide the details needed to manage larger projects.</p>
<p>To view a project file, right click on the project’s name in the Visual Studio file menu. From the dropdown menu, select <em>Edit Project File</em>.</p>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="../../_images/edit-project-file.png"><img alt="User selecting &quot;Edit Project File&quot; from project action dropdown menu" src="../../_images/edit-project-file.png" style="width: 387.0px; height: 595.0px;" /></a>
<p class="caption"><span class="caption-text">User selecting “Edit Project File”.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>At the time of writing, the version of .NET Core used is 6.0. If that is no longer the most recent version, make note.
Barring any major updates to the framework, the following explanation still applies.</p>
</div>
<p>Most of our project files from this class will look like this:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Project</span> <span class="na">Sdk=</span><span class="s">&quot;Microsoft.NET.Sdk&quot;</span><span class="nt">&gt;</span>

   <span class="nt">&lt;PropertyGroup&gt;</span>
      <span class="nt">&lt;OutputType&gt;</span>Exe<span class="nt">&lt;/OutputType&gt;</span>
      <span class="nt">&lt;TargetFramework&gt;</span>net6.0<span class="nt">&lt;/TargetFramework&gt;</span>
   <span class="nt">&lt;/PropertyGroup&gt;</span>

<span class="nt">&lt;/Project&gt;</span>
</pre></div>
</div>
<p>This project example contains two property elements: <code class="docutils literal notranslate"><span class="pre">OutputType</span></code> and <code class="docutils literal notranslate"><span class="pre">TargetFramework</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;OutputType&gt;</span></code> specifies the format of the build’s output. <code class="docutils literal notranslate"><span class="pre">OutputType</span></code> is the key, and <code class="docutils literal notranslate"><span class="pre">Exe</span></code> is the value. This build outputs an <code class="docutils literal notranslate"><span class="pre">.exe</span></code> file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;TargetFramework&gt;</span></code> provides the version of .NET Core that the program uses.</p></li>
</ul>
<p>Both of these properties are wrapped in a <code class="docutils literal notranslate"><span class="pre">&lt;PropertyGroup&gt;</span></code> element. In
fact, all property elements must be nested within a <code class="docutils literal notranslate"><span class="pre">&lt;PropertyGroup&gt;</span></code> tag. Finally, <code class="docutils literal notranslate"><span class="pre">&lt;Project&gt;</span></code> is a special element that
forms the base of all project files.</p>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">12.1.2. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What is the language of the C# project file?</p>
<ol class="loweralpha simple">
<li><p>MSBuild</p></li>
<li><p>C#</p></li>
<li><p>csproj</p></li>
<li><p>XML</p></li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What is the element type used for the individual units of the build process?</p>
<ol class="loweralpha simple">
<li><p>item</p></li>
<li><p>task</p></li>
<li><p>property</p></li>
<li><p>target</p></li>
</ol>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="index.html"><span aria-hidden="true">&larr;</span> <span class="section-number">12. </span>Tools in Visual Studio</a></li>
        
        
        <li class="next"><a href="nuget.html"><span class="section-number">12.2. </span>NuGet <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/vstools/msbuild.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>