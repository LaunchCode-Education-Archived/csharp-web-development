<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>14.4. Model-Binding &#8212; C# Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="14.5. Exercises: Edit Model Classes" href="exercises.html" />
    <link rel="prev" title="14.3. Models and Data" href="data-layer.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">14. </span>Models and Model Binding</a></li>
    <li class="active"><span class="section-number">14.4. </span>Model-Binding</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="model-binding">
<h1><span class="section-number">14.4. </span>Model-Binding<a class="headerlink" href="#model-binding" title="Permalink to this headline">¶</a></h1>
<p id="index-0">We now introduce a useful technique to auto-create model instances,
called <strong>model binding</strong>. Model binding takes place when a whole
model object is created by the ASP.NET framework on form submission. This saves us the effort,
and the code, needed to pass in each form field to a controller.</p>
<p>Model binding reduces the amount of code we need to
write to create an object and helps with validation (which we’ll explore further in the next
section). With a few modifications to our project, ASP.NET creates an <code class="docutils literal notranslate"><span class="pre">Event</span></code> object for us when
the <em>New Event</em> form is posted.</p>
<div class="section" id="how-to-use-model-binding-video">
<h2><span class="section-number">14.4.1. </span>How to Use Model-Binding - Video<a class="headerlink" href="#how-to-use-model-binding-video" title="Permalink to this headline">¶</a></h2>

<div style="text-align:center;"><iframe width="800" height="450" src="https://www.youtube.com/embed/vvfPmxLeinU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p></p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">The starter code for this video is found at the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/delete-events" target="_blank">delete-events branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>
of <code class="docutils literal notranslate"><span class="pre">CodingEventsDemo</span></code>. The final code presented in this
video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/CodingEventsDemo/tree/model-binding" target="_blank">model-binding branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.
As always, code along to the videos on your own <code class="docutils literal notranslate"><span class="pre">CodingEvents</span></code> project.</p>
</div>
</div>
<div class="section" id="how-to-use-model-binding-text">
<h2><span class="section-number">14.4.2. </span>How to Use Model-Binding - Text<a class="headerlink" href="#how-to-use-model-binding-text" title="Permalink to this headline">¶</a></h2>
<p>When submitting new event information, rather than passing in each field used to
instantiate a model, we can instead pass in <code class="docutils literal notranslate"><span class="pre">Event</span> <span class="pre">newEvent</span></code> as a parameter
of the controller method.</p>
<p>Revised <code class="docutils literal notranslate"><span class="pre">NewEvent</span></code> method in <code class="docutils literal notranslate"><span class="pre">EventsController</span></code>:</p>
<div class="highlight-c# notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="na">[HttpPost]</span>
<span class="na">[Route(&quot;Events/Add&quot;)]</span>
<span class="k">public</span> <span class="n">IActionResult</span> <span class="nf">NewEvent</span><span class="p">(</span><span class="n">Event</span> <span class="n">newEvent</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">EventData</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">newEvent</span><span class="p">);</span>

   <span class="k">return</span> <span class="nf">Redirect</span><span class="p">(</span><span class="s">&quot;/Events&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>This is the essence of model binding. The model instance is created
on form submission. With only two fields needed to create an event, the value of this data binding may not be
particularly apparent right now. You can imagine, though, with a larger form and class, that the practice of
model binding is pretty potent.</p>
<p>For binding to take place, we must use the model field names as the form field names. So back in
the create form HTML, we update the form fields to match the event fields.</p>
<p><code class="docutils literal notranslate"><span class="pre">Views/Events/Add.cshtml</span></code>:</p>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
      Name
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
      Description
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
 <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p>If a form field name does NOT match up with a model field, then binding will fail for that piece of data.
It is critically important to ensure these names match up.</p>
<div class="admonition-tip admonition" id="index-1">
<p class="first admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p>The basics of model binding require that model property names match form field names. If they don’t,
you still have the option to bind the model with attributes. We could have left the description
field in the <em>Add Event</em> form with <code class="docutils literal notranslate"><span class="pre">name=&quot;desc&quot;</span></code>. Then back in the <code class="docutils literal notranslate"><span class="pre">Event</span></code> class, we could modify the
description property as such:</p>
<div class="last highlight-c# notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="na">[FromForm(Name=&quot;desc&quot;)]</span>
<span class="k">public</span> <span class="kt">string</span> <span class="n">Description</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The changes above only scratch the surface of what can be done with model binding.
We address more aspects and advantages of this technique in the coming pages If you’d
like to read more on the topic now, take a look at the <a class="reference external" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-3.1" target="_blank">documentation<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">14.4.3. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>Complete this sentence: Model binding …
<em>Check all that apply</em></p>
<ol class="last arabic simple">
<li>requires the use of attributes.</li>
<li>helps with form validation.</li>
<li>reduces controller code.</li>
<li>makes your code more rigid and vulnerable to errors.</li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>In <code class="docutils literal notranslate"><span class="pre">CodingEvents</span></code>, we add an additional property, <code class="docutils literal notranslate"><span class="pre">NumberOfAttendees</span></code>, to the <code class="docutils literal notranslate"><span class="pre">Event</span></code> class. What other change must we make to ensure the user of our
application can determine this value? (Assume we are using model binding to process form submission.)</p>
<ol class="last arabic simple">
<li>Pass in a <code class="docutils literal notranslate"><span class="pre">numberOfAttendees</span></code> parameter to the form submission handler.</li>
<li>Add another input element to the create event form with a <code class="docutils literal notranslate"><span class="pre">name=&quot;numberOfAttendees&quot;</span></code> attribute.</li>
<li>Add a <code class="docutils literal notranslate"><span class="pre">getAttendees</span></code> method to <code class="docutils literal notranslate"><span class="pre">EventData</span></code>.</li>
<li>All of the above.</li>
</ol>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="data-layer.html"><span aria-hidden="true">&larr;</span> <span class="section-number">14.3. </span>Models and Data</a></li>
        
        
        <li class="next"><a href="exercises.html"><span class="section-number">14.5. </span>Exercises: Edit Model Classes <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/aspdotnet-model-classes/model-binding.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>